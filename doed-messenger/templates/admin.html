<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doed Admin</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
        :root{
            --red:#e63946;--dark-red:#d00000;--blue:#4a6fa5;--dark:#1a1a2e;
            --light:#16213e;--text:#f1faee;--gray:#a8dadc;--border:#2d3047;
        }
        body{background:var(--dark);color:var(--text);}
        .header{background:var(--light);padding:20px;border-bottom:3px solid var(--red);}
        .container{display:flex;min-height:100vh;}
        .sidebar{width:250px;background:var(--light);padding:20px;border-right:2px solid var(--border);}
        .sidebar a{display:block;color:var(--text);text-decoration:none;padding:10px;margin:5px 0;border-radius:5px;}
        .sidebar a:hover{background:var(--red);}
        .content{flex:1;padding:20px;}
        .stats{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;margin-bottom:30px;}
        .stat-card{background:var(--light);padding:20px;border-radius:10px;border-left:3px solid var(--red);}
        .stat-value{font-size:36px;font-weight:bold;color:var(--red);}
        .table{width:100%;border-collapse:collapse;background:var(--light);border-radius:10px;overflow:hidden;}
        .table th,.table td{padding:12px;text-align:left;border-bottom:1px solid var(--border);}
        .table th{background:var(--red);}
        .status-pending{color:#ffd700;}
        .status-reviewed{color:#32CD32;}
        .status-rejected{color:#a8dadc;}
        .status-banned{color:var(--red);}
        .btn{display:inline-block;padding:8px 16px;border-radius:5px;text-decoration:none;margin:2px;border:none;cursor:pointer;}
        .btn-primary{background:var(--red);color:white;}
        .btn-primary:hover{background:var(--dark-red);}
        .btn-success{background:#32CD32;color:white;}
        .btn-danger{background:var(--red);color:white;}
        .search-box{margin-bottom:20px;padding:10px;width:100%;background:var(--light);border:2px solid var(--border);color:var(--text);border-radius:5px;}
    </style>
</head>
<body>
    <div class="header">
        <h1>üî¥ Doed Admin Panel</h1>
    </div>
    <div class="container">
        <div class="sidebar">
            <a href="/admin/">üè† –ì–ª–∞–≤–Ω–∞—è</a>
            <a href="/admin/users">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
            <a href="/admin/messages">üí¨ –°–æ–æ–±—â–µ–Ω–∏—è</a>
            <a href="/admin/reports">‚ö†Ô∏è –ñ–∞–ª–æ–±—ã</a>
            <a href="/chat">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ —á–∞—Ç</a>
            <a href="/logout">üö™ –í—ã–π—Ç–∏</a>
        </div>
        <div class="content">
            <h2>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ admin.username }}!</p>
            
            <div class="stats">
                <div class="stat-card">
                    <div>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                    <div class="stat-value">{{ total_users }}</div>
                </div>
                <div class="stat-card">
                    <div>–°–æ–æ–±—â–µ–Ω–∏–π</div>
                    <div class="stat-value">{{ total_messages }}</div>
                </div>
                <div class="stat-card">
                    <div>–ñ–∞–ª–æ–± –æ–∂–∏–¥–∞–µ—Ç</div>
                    <div class="stat-value">{{ pending_reports }}</div>
                </div>
            </div>
            
            <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∂–∞–ª–æ–±—ã</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>–û—Ç –∫–æ–≥–æ</th>
                        <th>–ù–∞ –∫–æ–≥–æ</th>
                        <th>–ü—Ä–∏—á–∏–Ω–∞</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–î–∞—Ç–∞</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    {% for report in recent_reports %}
                    <tr>
                        <td>{{ report.id }}</td>
                        <td>{{ report.reporter.username }}</td>
                        <td>{{ report.reported.username }}</td>
                        <td>{{ report.reason }}</td>
                        <td class="status-{{ report.status }}">{{ report.status }}</td>
                        <td>{{ report.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                        <td>
                            <a href="/admin/reports" class="btn btn-primary">–°–º–æ—Ç—Ä–µ—Ç—å</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>